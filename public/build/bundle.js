var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let u,c="undefined"!=typeof window?t=>requestAnimationFrame(t):t;function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function $(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function g(t,n){t.value=null==n?"":n}function y(t){u=t}function v(t){(function(){if(!u)throw new Error("Function called outside component initialization");return u})().$$.on_mount.push(t)}const b=[],w=[],x=[],_=[],j=Promise.resolve();let T=!1;function A(t){x.push(t)}function k(t){_.push(t)}let M=!1;const E=new Set;function q(){if(!M){M=!0;do{for(let t=0;t<b.length;t+=1){const n=b[t];y(n),F(n.$$)}for(y(null),b.length=0;w.length;)w.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];E.has(n)||(E.add(n),n())}x.length=0}while(b.length);for(;_.length;)_.pop()();T=!1,M=!1,E.clear()}}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const C=new Set;function U(t,n){t&&t.i&&(C.delete(t),t.i(n))}function B(t,n,e,o){if(t&&t.o){if(C.has(t))return;C.add(t),undefined.c.push((()=>{C.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const N="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function S(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function L(t){t&&t.c()}function O(t,e,i){const{fragment:u,on_mount:c,on_destroy:s,after_update:a}=t.$$;u&&u.m(e,i),A((()=>{const e=c.map(n).filter(r);s?s.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(A)}function P(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function z(t,n){-1===t.$$.dirty[0]&&(b.push(t),T||(T=!0,j.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function R(n,r,i,c,s,a,f=[-1]){const d=u;y(n);const p=n.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:e(),dirty:f,skip_bound:!1};let $=!1;if(p.ctx=i?i(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),$&&z(n,t)),e})):[],p.update(),$=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();r.intro&&U(n.$$.fragment),O(n,r.target,r.anchor),q()}y(d)}class D{$destroy(){P(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(t){let n,e;return{c(){n=f("img"),n.src!==(e="./img/pause.svg")&&h(n,"src","./img/pause.svg"),h(n,"alt",""),h(n,"class","svelte-132jjg9")},m(t,e){a(t,n,e)},d(t){t&&l(n)}}}function I(t){let n,e;return{c(){n=f("img"),n.src!==(e="./img/play.svg")&&h(n,"src","./img/play.svg"),h(n,"alt",""),h(n,"class","svelte-132jjg9")},m(t,e){a(t,n,e)},d(t){t&&l(n)}}}function W(n){let e,r,i,u,c,y,v,b,w,x,_,j,T;function A(t,n){return t[1]?I:H}let k=A(n),M=k(n);return{c(){e=f("nav"),r=f("div"),M.c(),i=p(),u=f("div"),c=f("input"),v=p(),b=f("div"),w=d(n[3]),x=d(" / "),_=d(n[4]),h(r,"class","play-pause svelte-132jjg9"),h(c,"type","range"),h(c,"min","0"),h(c,"max",y=Math.round(n[2])),h(c,"class","svelte-132jjg9"),h(u,"class","track svelte-132jjg9"),h(b,"class","length svelte-132jjg9"),h(e,"class","svelte-132jjg9")},m(t,o){a(t,e,o),s(e,r),M.m(r,null),s(e,i),s(e,u),s(u,c),g(c,n[0]),s(e,v),s(e,b),s(b,w),s(b,x),s(b,_),j||(T=[$(r,"click",n[5]),$(c,"change",n[6]),$(c,"input",n[6])],j=!0)},p(t,[n]){k!==(k=A(t))&&(M.d(1),M=k(t),M&&(M.c(),M.m(r,null))),4&n&&y!==(y=Math.round(t[2]))&&h(c,"max",y),1&n&&g(c,t[0]),8&n&&m(w,t[3]),16&n&&m(_,t[4])},i:t,o:t,d(t){t&&l(e),M.d(),j=!1,o(T)}}}function G(t){const n=Math.round(t);let e=Math.floor(n/3600),o=Math.floor((n-3600*e)/60),r=n-3600*e-60*o;return(e>=10?e+":":e>0?"0"+e+":":"")+(o>=10?o+":":o>0?"0"+o+":":"00:")+(r>=10?r:r>0?"0"+r:"00")}function J(t,n,e){let o,r,{currentTime:i}=n,{duration:u}=n,{paused:c}=n;return t.$$set=t=>{"currentTime"in t&&e(0,i=t.currentTime),"duration"in t&&e(2,u=t.duration),"paused"in t&&e(1,c=t.paused)},t.$$.update=()=>{1&t.$$.dirty&&e(3,o=G(i)),4&t.$$.dirty&&e(4,r=G(u))},[i,c,u,o,r,()=>e(1,c=!c),function(){var t;t=this.value,i=""===t?null:+t,e(0,i)}]}class K extends D{constructor(t){super(),R(this,t,J,W,i,{currentTime:0,duration:2,paused:1})}}function Q(n){let e,o,r;return{c(){e=f("canvas"),h(e,"width",n[0]),h(e,"height",n[1]),h(e,"class","svelte-dkugi8")},m(t,i){a(t,e,i),n[9](e),o||(r=$(window,"resize",n[3]),o=!0)},p(t,[n]){1&n&&h(e,"width",t[0]),2&n&&h(e,"height",t[1])},i:t,o:t,d(t){t&&l(e),n[9](null),o=!1,r()}}}function V(t,n,e){let o=0;return t.slice(n,e).forEach((t=>o+=t)),o/(e-n)}function X(t,n,e){let o,r,i,u,c,s,a,l,f,{volumes:d}=n,p=1e3,$=1e3;function h(){e(0,p=l.offsetWidth),e(1,$=l.offsetHeight)}return v((()=>{f=l.getContext("2d"),h()})),t.$$set=t=>{"volumes"in t&&e(4,d=t.volumes)},t.$$.update=()=>{16&t.$$.dirty&&e(6,o=d.length),80&t.$$.dirty&&(r=40*V(d,0,o)/255),16&t.$$.dirty&&e(7,i=30*V(d,0,20)/255-15),80&t.$$.dirty&&e(8,u=30*V(d,o/1.2,o/1.5)/255-15),257&t.$$.dirty&&(c=p/2+u),130&t.$$.dirty&&(s=$/2+i),3&t.$$.dirty&&(a=p>$?$:p)},[p,$,l,h,d,function(){f.clearRect(0,0,l.offsetWidth,l.offsetHeight),d.forEach(((t,n)=>function(t,n,e){const i=360*e/o*(Math.PI/180)+Math.PI,u=c+Math.sin(i)*r,l=s+Math.cos(i)*r,f=r+n*(a/2-20)/255,d=c+Math.sin(i)*f,p=s+Math.cos(i)*f;t.beginPath(),t.moveTo(u,l),t.lineTo(d,p),t.strokeStyle=`hsl(${180-180*n/255}, 100%, 50%)`,t.stroke()}(f,t,n)))},o,i,u,function(t){w[t?"unshift":"push"]((()=>{l=t,e(2,l)}))}]}class Y extends D{constructor(t){super(),R(this,t,X,Q,i,{volumes:4,render:5})}get render(){return this.$$.ctx[5]}}const{cancelAnimationFrame:Z}=N;function tt(t){let n,e,r,i,u,d,m,g,y,v,b,x,_,j,T,M,E,q=!1,F=!0;function C(){Z(m),d.paused||(m=c(C),q=!0),t[9].call(d)}function N(n){t[12](n)}let z={volumes:t[0]};function R(n){t[13](n)}function D(n){t[14](n)}void 0!==t[5]&&(z.render=t[5]),y=new Y({props:z}),w.push((()=>S(y,"render",N)));let H={duration:t[3]};return void 0!==t[2]&&(H.currentTime=t[2]),void 0!==t[4]&&(H.paused=t[4]),x=new K({props:H}),w.push((()=>S(x,"currentTime",R))),w.push((()=>S(x,"paused",D))),{c(){n=f("main"),e=f("input"),r=p(),i=f("br"),u=p(),d=f("audio"),g=p(),L(y.$$.fragment),b=p(),L(x.$$.fragment),h(e,"type","file"),h(e,"accept",".mp3"),void 0===t[3]&&A((()=>t[10].call(d)))},m(o,c){a(o,n,c),s(n,e),s(n,r),s(n,i),s(n,u),s(n,d),t[8](d),s(n,g),O(y,n,null),s(n,b),O(x,n,null),T=!0,M||(E=[$(e,"input",t[6]),$(d,"timeupdate",C),$(d,"durationchange",t[10]),$(d,"play",t[11]),$(d,"pause",t[11])],M=!0)},p(t,[n]){!q&&4&n&&!isNaN(t[2])&&(d.currentTime=t[2]),q=!1,16&n&&F!==(F=t[4])&&d[F?"pause":"play"]();const e={};1&n&&(e.volumes=t[0]),!v&&32&n&&(v=!0,e.render=t[5],k((()=>v=!1))),y.$set(e);const o={};8&n&&(o.duration=t[3]),!_&&4&n&&(_=!0,o.currentTime=t[2],k((()=>_=!1))),!j&&16&n&&(j=!0,o.paused=t[4],k((()=>j=!1))),x.$set(o)},i(t){T||(U(y.$$.fragment,t),U(x.$$.fragment,t),T=!0)},o(t){B(y.$$.fragment,t),B(x.$$.fragment,t),T=!1},d(e){e&&l(n),t[8](null),P(y),P(x),M=!1,o(E)}}}function nt(t,n,e){let o,r,i,u,c=new Uint8Array,s=new Uint8Array,a=0,l=0,f=!0;return t.$$.update=()=>{128&t.$$.dirty&&e(0,c=s.filter((t=>t>0)))},[c,r,a,l,f,u,function(t){let n=t.target.files[0];n&&(i||function(){let t=new AudioContext;i=t.createAnalyser();let n=t.createMediaElementSource(r);n.connect(i),n.connect(t.destination),e(7,s=new Uint8Array(i.frequencyBinCount)),i.fftSize=4096,i.getByteFrequencyData(s),s.length&&e(7,s=new Uint8Array(i.frequencyBinCount))}(),e(1,r.src=URL.createObjectURL(n),r),e(4,f=!0),o&&(cancelAnimationFrame(o),o=void 0),function t(){r.paused||(u(),i.getByteFrequencyData(s),e(7,s)),o=requestAnimationFrame(t)}())},s,function(t){w[t?"unshift":"push"]((()=>{r=t,e(1,r)}))},function(){a=this.currentTime,e(2,a)},function(){l=this.duration,e(3,l)},function(){f=this.paused,e(4,f)},function(t){u=t,e(5,u)},function(t){a=t,e(2,a)},function(t){f=t,e(4,f)}]}return new class extends D{constructor(t){super(),R(this,t,nt,tt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
